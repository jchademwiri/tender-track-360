
> tender-track-360@0.1.0 test
> jest src/server/__tests__/ownership-transfer.test.ts

FAIL src/server/__tests__/ownership-transfer.test.ts (32.061 s)
  Ownership Transfer Tests
    Initiate Transfer
      ΓêÜ should allow owner to initiate transfer (4009 ms)
      ΓêÜ should fail if non-owner tries to initiate (993 ms)
    Cancel Transfer
      ├ù should allow owner to cancel pending transfer (3791 ms)
    Accept Transfer
      ΓêÜ should successfully transfer ownership (8911 ms)
      ├ù should fail if wrong user tries to accept (6520 ms)

  ΓùÅ Ownership Transfer Tests ΓÇ║ Cancel Transfer ΓÇ║ should allow owner to cancel pending transfer

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      145 |           ownerId
      146 |         );
    > 147 |       expect(initResult.success).toBe(true);
          |                                  ^
      148 |       const transferId = initResult.transferId!;
      149 |
      150 |       // Cancel it

      at Object.toBe (src/server/__tests__/ownership-transfer.test.ts:147:34)

  ΓùÅ Ownership Transfer Tests ΓÇ║ Accept Transfer ΓÇ║ should fail if wrong user tries to accept

    thrown: "Exceeded timeout of 5000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      211 |     });
      212 |
    > 213 |     it('should fail if wrong user tries to accept', async () => {
          |     ^
      214 |       // Create another pending transfer (first reset roles if needed?
      215 |       // The previous test changed roles. So owner is now newOwnerId.)
      216 |

      at it (src/server/__tests__/ownership-transfer.test.ts:213:5)
      at describe (src/server/__tests__/ownership-transfer.test.ts:165:3)
      at Object.describe (src/server/__tests__/ownership-transfer.test.ts:37:1)

Test Suites: 1 failed, 1 total
Tests:       2 failed, 3 passed, 5 total
Snapshots:   0 total
Time:        32.154 s
Ran all test suites matching /src\\server\\__tests__\\ownership-transfer.test.ts/i.
