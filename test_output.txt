  console.error
    Error creating client: TypeError: crypto.randomUUID is not a function
        at randomUUID (D:\websites\tender-track-360\src\server\clients.ts:81:20)
        at Object.<anonymous> (D:\websites\tender-track-360\src\server\__tests__\crud-integration.test.ts:77:37)
        at Promise.then.completed (D:\websites\tender-track-360\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\websites\tender-track-360\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusHook (D:\websites\tender-track-360\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
        at _runTestsForDescribeBlock (D:\websites\tender-track-360\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:95:7)
        at _runTestsForDescribeBlock (D:\websites\tender-track-360\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\websites\tender-track-360\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\websites\tender-track-360\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\websites\tender-track-360\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\websites\tender-track-360\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\websites\tender-track-360\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\websites\tender-track-360\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)

    [0m [90m 88 |[39m     [36mreturn[39m { success[33m:[39m [36mtrue[39m[33m,[39m client[33m:[39m newClient[[35m0[39m] }[33m;[39m
     [90m 89 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 90 |[39m     console[33m.[39merror([32m'Error creating client:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 91 |[39m     [36mif[39m (error [36minstanceof[39m z[33m.[39m[33mZodError[39m) {
     [90m 92 |[39m       [36mreturn[39m {
     [90m 93 |[39m         success[33m:[39m [36mfalse[39m[33m,[39m[0m

      at error (src/server/clients.ts:90:13)
      at Object.<anonymous> (src/server/__tests__/crud-integration.test.ts:77:37)

  console.error
    Error creating client: TypeError: crypto.randomUUID is not a function
        at randomUUID (D:\websites\tender-track-360\src\server\clients.ts:81:20)
        at Object.<anonymous> (D:\websites\tender-track-360\src\server\__tests__\crud-integration.test.ts:101:37)
        at Promise.then.completed (D:\websites\tender-track-360\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\websites\tender-track-360\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusHook (D:\websites\tender-track-360\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
        at _runTestsForDescribeBlock (D:\websites\tender-track-360\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:95:7)
        at _runTestsForDescribeBlock (D:\websites\tender-track-360\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\websites\tender-track-360\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\websites\tender-track-360\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\websites\tender-track-360\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\websites\tender-track-360\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\websites\tender-track-360\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\websites\tender-track-360\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)

    [0m [90m 88 |[39m     [36mreturn[39m { success[33m:[39m [36mtrue[39m[33m,[39m client[33m:[39m newClient[[35m0[39m] }[33m;[39m
     [90m 89 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 90 |[39m     console[33m.[39merror([32m'Error creating client:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 91 |[39m     [36mif[39m (error [36minstanceof[39m z[33m.[39m[33mZodError[39m) {
     [90m 92 |[39m       [36mreturn[39m {
     [90m 93 |[39m         success[33m:[39m [36mfalse[39m[33m,[39m[0m

      at error (src/server/clients.ts:90:13)
      at Object.<anonymous> (src/server/__tests__/crud-integration.test.ts:101:37)

  console.error
    Error creating client: TypeError: crypto.randomUUID is not a function
        at randomUUID (D:\websites\tender-track-360\src\server\clients.ts:81:20)
        at Object.<anonymous> (D:\websites\tender-track-360\src\server\__tests__\crud-integration.test.ts:131:37)
        at Promise.then.completed (D:\websites\tender-track-360\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\websites\tender-track-360\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusHook (D:\websites\tender-track-360\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
        at _runTestsForDescribeBlock (D:\websites\tender-track-360\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:95:7)
        at _runTestsForDescribeBlock (D:\websites\tender-track-360\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\websites\tender-track-360\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\websites\tender-track-360\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\websites\tender-track-360\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\websites\tender-track-360\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\websites\tender-track-360\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\websites\tender-track-360\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)

    [0m [90m 88 |[39m     [36mreturn[39m { success[33m:[39m [36mtrue[39m[33m,[39m client[33m:[39m newClient[[35m0[39m] }[33m;[39m
     [90m 89 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 90 |[39m     console[33m.[39merror([32m'Error creating client:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 91 |[39m     [36mif[39m (error [36minstanceof[39m z[33m.[39m[33mZodError[39m) {
     [90m 92 |[39m       [36mreturn[39m {
     [90m 93 |[39m         success[33m:[39m [36mfalse[39m[33m,[39m[0m

      at error (src/server/clients.ts:90:13)
      at Object.<anonymous> (src/server/__tests__/crud-integration.test.ts:131:37)

FAIL src/server/__tests__/crud-integration.test.ts (11.49 s)
  Î“Ã¹Ã… Client CRUD Integration Tests Î“Ã‡â•‘ Create Client Î“Ã‡â•‘ should create a new client successfully

    thrown: "Exceeded timeout of 5000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      13 |   const TEST_PREFIX = 'TEST_RUN_' + Date.now();
      14 |
    > 15 |   beforeAll(async () => {
         |   ^
      16 |     // Create a test organization
      17 |     testOrgId = `org_${Date.now()}`;
      18 |     await db.insert(organization).values({

      at beforeAll (src/server/__tests__/crud-integration.test.ts:15:3)
      at Object.describe (src/server/__tests__/crud-integration.test.ts:11:1)

  Î“Ã¹Ã… Client CRUD Integration Tests Î“Ã‡â•‘ Create Client Î“Ã‡â•‘ should fail validation with invalid email

    thrown: "Exceeded timeout of 5000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      13 |   const TEST_PREFIX = 'TEST_RUN_' + Date.now();
      14 |
    > 15 |   beforeAll(async () => {
         |   ^
      16 |     // Create a test organization
      17 |     testOrgId = `org_${Date.now()}`;
      18 |     await db.insert(organization).values({

      at beforeAll (src/server/__tests__/crud-integration.test.ts:15:3)
      at Object.describe (src/server/__tests__/crud-integration.test.ts:11:1)

  Î“Ã¹Ã… Client CRUD Integration Tests Î“Ã‡â•‘ Read Client Î“Ã‡â•‘ should get client by ID

    thrown: "Exceeded timeout of 5000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      13 |   const TEST_PREFIX = 'TEST_RUN_' + Date.now();
      14 |
    > 15 |   beforeAll(async () => {
         |   ^
      16 |     // Create a test organization
      17 |     testOrgId = `org_${Date.now()}`;
      18 |     await db.insert(organization).values({

      at beforeAll (src/server/__tests__/crud-integration.test.ts:15:3)
      at Object.describe (src/server/__tests__/crud-integration.test.ts:11:1)

  Î“Ã¹Ã… Client CRUD Integration Tests Î“Ã‡â•‘ Read Client Î“Ã‡â•‘ should list clients with pagination

    thrown: "Exceeded timeout of 5000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      13 |   const TEST_PREFIX = 'TEST_RUN_' + Date.now();
      14 |
    > 15 |   beforeAll(async () => {
         |   ^
      16 |     // Create a test organization
      17 |     testOrgId = `org_${Date.now()}`;
      18 |     await db.insert(organization).values({

      at beforeAll (src/server/__tests__/crud-integration.test.ts:15:3)
      at Object.describe (src/server/__tests__/crud-integration.test.ts:11:1)

  Î“Ã¹Ã… Client CRUD Integration Tests Î“Ã‡â•‘ Update Client Î“Ã‡â•‘ should update client details

    thrown: "Exceeded timeout of 5000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      13 |   const TEST_PREFIX = 'TEST_RUN_' + Date.now();
      14 |
    > 15 |   beforeAll(async () => {
         |   ^
      16 |     // Create a test organization
      17 |     testOrgId = `org_${Date.now()}`;
      18 |     await db.insert(organization).values({

      at beforeAll (src/server/__tests__/crud-integration.test.ts:15:3)
      at Object.describe (src/server/__tests__/crud-integration.test.ts:11:1)

  Î“Ã¹Ã… Client CRUD Integration Tests Î“Ã‡â•‘ Delete Client Î“Ã‡â•‘ should soft delete client

    thrown: "Exceeded timeout of 5000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      13 |   const TEST_PREFIX = 'TEST_RUN_' + Date.now();
      14 |
    > 15 |   beforeAll(async () => {
         |   ^
      16 |     // Create a test organization
      17 |     testOrgId = `org_${Date.now()}`;
      18 |     await db.insert(organization).values({

      at beforeAll (src/server/__tests__/crud-integration.test.ts:15:3)
      at Object.describe (src/server/__tests__/crud-integration.test.ts:11:1)


  Î“Ã¹Ã… Test suite failed to run

    ReferenceError: setImmediate is not defined

      at write (node_modules/.pnpm/postgres@3.4.7/node_modules/postgres/cjs/src/connection.js:245:20)
      at Socket.secure (node_modules/.pnpm/postgres@3.4.7/node_modules/postgres/cjs/src/connection.js:262:5)

  Î“Ã¹Ã… Test suite failed to run

    ReferenceError: setImmediate is not defined

      at write (node_modules/.pnpm/postgres@3.4.7/node_modules/postgres/cjs/src/connection.js:245:20)
      at Socket.secure (node_modules/.pnpm/postgres@3.4.7/node_modules/postgres/cjs/src/connection.js:262:5)

  Î“Ã¹Ã… Test suite failed to run

    thrown: "Exceeded timeout of 5000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      23 |   });
      24 |
    > 25 |   afterAll(async () => {
         |   ^
      26 |     // Cleanup: Delete the test organization (cascades to clients)
      27 |     if (testOrgId) {
      28 |       await db.delete(organization).where(eq(organization.id, testOrgId));

      at afterAll (src/server/__tests__/crud-integration.test.ts:25:3)
      at Object.describe (src/server/__tests__/crud-integration.test.ts:11:1)

Test Suites: 1 failed, 1 total
Tests:       6 failed, 6 total
Snapshots:   0 total
Time:        13.056 s
Ran all test suites matching /src\\server\\__tests__\\crud-integration.test.ts/i.
Jest did not exit one second after the test run has completed.

'This usually means that there are asynchronous operations that weren't stopped in your tests. Consider running Jest with `--detectOpenHandles` to troubleshoot this issue.
